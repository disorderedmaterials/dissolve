name: Package

inputs:
  target:
    default: "dissolve"
  singularityTarget:
    default: "singularity"

runs:
  using: "composite"
  steps:

  - name: Package ${{ inputs.target }} (Linux)
    if: runner.os == 'Linux'
    uses: "./.github/workflows/package/linux"
    with:
      target: ${{ inputs.target }}
      singularityTarget: ${{ inputs.singularityTarget }}

  - name: Package (OSX)
    if: runner.os == 'MacOS'
    uses: "./.github/workflows/package/osx"

  - name: Package (Windows)
    if: runner.os == 'Windows'
    uses: "./.github/workflows/package/windows"
